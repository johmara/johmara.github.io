<div class="header-controls">
  <button class="search-trigger" (click)="openSearchModal()" aria-label="Search publications">
    <span class="shortcut-text">{{ vimModeService.isVimModeEnabled() ? '/' : 'ctrl k' }}</span>
    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="11" cy="11" r="8"></circle>
      <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
    </svg>
  </button>
  <app-dark-mode-toggle></app-dark-mode-toggle>
  <app-vim-mode-toggle></app-vim-mode-toggle>
</div>

<app-search-modal *ngIf="isSearchModalOpen" (close)="closeSearchModal()"></app-search-modal>

<!-- Vim mode tooltip toggle button -->
<button 
  class="vim-tooltip-toggle" 
  *ngIf="vimModeService.isVimModeEnabled()"
  (click)="toggleVimTooltip()"
  [class.active]="isVimTooltipOpen"
  [attr.aria-label]="isVimTooltipOpen ? 'Hide vim shortcuts' : 'Show vim shortcuts'"
  type="button">
  <span class="vim-icon">V</span>
</button>

<!-- Vim mode tooltip -->
<div class="vim-tooltip" *ngIf="vimModeService.isVimModeEnabled() && isVimTooltipOpen">
  <div class="vim-tooltip-header">Vim Navigation</div>
  <div class="vim-tooltip-item"><kbd>/</kbd> Open search</div>
  <div class="vim-tooltip-item"><kbd>j</kbd> Scroll down</div>
  <div class="vim-tooltip-item"><kbd>k</kbd> Scroll up</div>
  <div class="vim-tooltip-item"><kbd>g</kbd> Jump to top</div>
  <div class="vim-tooltip-item"><kbd>G</kbd> Jump to bottom</div>
</div>

<div class="mx-4">
  <router-outlet />
</div>

